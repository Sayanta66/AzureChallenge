const connection=(new signalR.HubConnectionBuilder).withUrl("/challengeHub").build();$(document).ready(function(){$("#btnCheck").click(function(){var i=$("#QuestionId").val(),n=$("#ChallengeId").val(),r=$("#NextQuestionId").val(),u=$("#Difficulty").val(),t=$("#QuestionIndex").val();$("#checkModalContentDiv").empty();$("#checkModalWaiting").show();$("#checkModalContent").addClass("d-none");$("#justification").addClass("d-none");$("#checkModal").modal("show");$.get("/Challenge/ValidateQuestion?questionId="+i+"&challengeId="+n+"&nextQuestionId="+r+"&points="+u+"00&questionIndex="+t).done(function(i){$("#checkModalWaiting").hide();$("#checkModalContent").removeClass("d-none");i.filter(n=>n.Value===!1).length>0?i.forEach(function(n){n.Value||(n.Key.startsWith("Error:")?$("#checkModalContentDiv").append("<div class='col-md-12 text-danger text-center h2 pt-5 pb-5'>Could not validate the question. Please check your deployment<\/div>"):$("#checkModalContentDiv").append("<div class='col-md-12 text-danger text-center h2 pt-5 pb-5'>"+n.Key+"<\/div>"))}):($("#checkModalContentDiv").append("<div class='col-md-12 text-success text-center h2 pt-5 pb-5'>You successfully completed the question!<\/div>"),$("#justification").removeClass("d-none"),$("#btnNext").removeAttr("disabled"),$("#btnNextModal").removeClass("d-none"),connection.invoke("SendQuestionCompletionToGroup",$("#userId").val(),n,t).catch(n=>console.error(n)))}).fail(function(){window.alert("Could not validate the question, an internal error occured. Please try again later.");$("#checkModal").modal("hide");$("body").removeClass("modal-open");$(".modal-backdrop").remove()})})});(()=>{try{await connection.start()}catch(n){console.error(n.toString())}})();